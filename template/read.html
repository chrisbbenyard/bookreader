<html>
  <head>
    <title>{{ book.title }} - {{ book.chapter_title}}</title>
    <meta name="viewport" content="width=device-width" />   
    <link rel="shortcut icon" href="/favicon.ico" />   
  </head> 

  <script type="text/javascript" language="javascript">  
    window.addEventListener('load', function() {
      var b = document.getElementById('content_box');    
      b.addEventListener('touchstart', scrollPage, false);      
    }, false); 

    
    function scrollPage(event) {       
      var touch = event.touches[0];  
      var y = touch.clientY - document.body.scrollTop;
      var h = window.innerHeight;
     
      if (y>h*3/4){        
        window.scroll(0, document.body.scrollTop + window.innerHeight*0.95);
      }
      else if (y<h/4) {         
        window.scroll(0, document.body.scrollTop - window.innerHeight*0.95);
      }
      else {
        return;
      }      
      event.preventDefault();
    }      
  </script> 
  
  <body>  
  <p>
    <a href="/">首页</a>
    <a href="{{ book.update_link }}">更新</a>
    <a href="{{ book.catalog_link }}">目录</a>
  </p>
  <p><b>{{ book.title }}</b> - {{ chapter.chapter_title}}</p>  
  <p>
    {% if book.prev_link %}
      <a href="{{ book.prev_link }}">上章</a> 
    {% else %}
      上章
    {% endif %}
    {% if book.next_link %}
      <a href="{{ book.next_link }}">下章</a> 
    {% else %}
      下章
    {% endif %}
  </p>
  <div id='content_box'>
    {{ content }}
  </div>
  <p>
    <a href="/">首页</a>
    {% if book.prev_link %}
      <a href="{{ book.prev_link }}">上章</a> 
    {% else %}
      上章
    {% endif %}
    {% if book.next_link %}
      <a href="{{ book.next_link }}">下章</a> 
    {% else %}
      下章
    {% endif %}
  </p>
  </body>
</html>